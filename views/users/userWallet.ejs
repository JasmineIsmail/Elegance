<%- include('../partials/userPartials/header.ejs') %>
<nav id="sidebar" class="sidebar-profile col-md-2">

    <ul class="sidebar-nav" id="sidebar-nav">

      <li class="nav-item">
          <span><strong>Hello, <%= user.name %></strong>
          </span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="/user_profile">
          <i class="bi bi-person"></i>
          <span><strong>Profile</strong> </span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="/manage_address">
          <i class="bi bi-question-circle"></i>
          <span><strong>Manage Address</strong> </span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="/orders">
          <span><strong>Orders</strong></span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="/wallet">
          <span><strong>Wallet</strong></span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="/change_password">
          <span><strong>Change Password</strong></span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="/logout">
          <i class="bi bi-box-arrow-in-right"></i>
          <span><strong>Logout</strong></span>
        </a>
      </li>
    </ul>

</nav><!-- End Sidebar-->
<main class="col-md-10 main-content">
    <div class="section-profile">

      <div class="card">
        <div class="card-header">
          Wallet
        </div>
        <div class="card-body">
          <h5 class="card-title">See your wallet details here</h5>
          <p class="card-text">Available balance in your wallet is :<%=user.wallet %> </p>
        </div>
      </div>
      <button class="btn btn-dark mt-5 mb-3">Wallet Transactions</button>
      <div class="wrap-table-shopping-cart">
        
        <table class="table-shopping-cart">
          <tr class="table_head">
            <th class="column-1">Amount</th>
            <th class="column-1">Type</th>
            <th class="column-1">Description</th>
            <th class="column-1">Date</th>
            
          </tr>
          <% if(user.walletTransactions.length >0) {

            currentTransactions.forEach(transaction => { %>
              <tr class="table_row">
                <td class="column-1"><%= transaction.amount %></td>
                <td class="column-1"><%= transaction.type %></td>
                <td class="column-1"><%= transaction.description %> </td>
                <% const dateOnly= transaction.date.toLocaleDateString();%> 
                <td class="column-1" ><%= dateOnly %></td>
              </tr>
            <%}); 
          }else { %>
            <tr>
               <td colspan="5">Nothing in wallet transactions</td>
            </tr>
           <% } %>
        </table>
      </div>
      <div class="pagination">
          <% for(let i = 1; i <= totalPages; i++) { %>
            <a href="/user/userwallet?page=<%= i %>" <%= i === currentPage ? 'class="active"' : '' %>><%= i %></a>
          <% } %>
      </div>
    </div>
</main>

<style>
  .pagination {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.pagination a {
  color: #333;
  padding: 8px 12px;
  text-decoration: none;
  margin: 0 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

.pagination a.active {
  background-color: #333;
  color: #fff;
  border-color: #333;
}
</style>

</style>




<%- include('../partials/userPartials/footer2.ejs') %>

